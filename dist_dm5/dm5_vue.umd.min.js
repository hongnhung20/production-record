(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e(require("vue")):"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["dm5_vue"]=e(require("vue")):t["dm5_vue"]=e(t["Vue"])})("undefined"!==typeof self?self:this,(function(t){return function(){"use strict";var e={203:function(e){e.exports=t}},a={};function i(t){var r=a[t];if(void 0!==r)return r.exports;var s=a[t]={exports:{}};return e[t](s,s.exports,i),s.exports}!function(){i.d=function(t,e){for(var a in e)i.o(e,a)&&!i.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.p=""}();var r={};return function(){if(i.d(r,{default:function(){return m}}),"undefined"!==typeof window){var t=window.document.currentScript,e=t&&t.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);e&&(i.p=e[1])}var a=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("HelloWorld")],1)},s=[],o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"production"},[e("p",{staticClass:"mixer",staticStyle:{color:"brown","background-color":"thistle",width:"auto","margin-left":"25px"}},[t._v(" Mixer recorder ")]),e("p",{staticClass:"please",staticStyle:{color:"brown","background-color":"silver",width:"auto"}},[t._v(" Please keep the record paper tidy ")]),e("label",[t._v("Search by Sugar Box:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filters,expression:"filters"}],attrs:{id:"sugarbox-filter"},domProps:{value:t.filters},on:{input:function(e){e.target.composing||(t.filters=e.target.value)}}}),e("button",{attrs:{id:"button"},on:{click:t.filterBySugarBox}},[t._v("filter")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedTime,expression:"selectedTime"}],attrs:{id:"sugarbox-filter"},domProps:{value:t.selectedTime},on:{input:function(e){e.target.composing||(t.selectedTime=e.target.value)}}}),e("label",[t._v("Search by savour:")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedSavour,expression:"selectedSavour"}],attrs:{id:"savour-filter"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedSavour=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:""}},[t._v("ALL")]),e("option",{attrs:{value:"original"}},[t._v("Original")]),e("option",{attrs:{value:"sugarfree"}},[t._v("Sugar Free")]),e("option",{attrs:{value:"blacksesame"}},[t._v("Black Sesame")]),e("option",{attrs:{value:"lowsugar"}},[t._v("Low Sugar")])]),e("button",{attrs:{id:"button"},on:{click:t.filterSavour}},[t._v("filter")]),e("button",{staticClass:"btnExcel",on:{click:function(e){return t.exportToCsv("myTable.csv",t.data)}}},[t._v(" Export to Excel ")]),e("ul",{staticClass:"pagination"},[e("table",{attrs:{id:"customers"}},[t._m(0),e("tbody",t._l(t.UpdatedTable,(function(a,i){return e("tr",{key:a.id},[e("td",[t._v(t._s(i+1))]),e("td",[t._v(" "+t._s(new Date(a.Time).toLocaleDateString("en-US",{day:"2-digit",month:"2-digit",year:"numeric"}))+" ")]),t._l(a.Capacity,(function(a){return e("td",{key:a.id},[t._v(" "+t._s(a.value)+" ")])})),e("td",[t._v(" "+t._s(a.soaker)+" ")]),e("td",[t._v(t._s(a.Sugarbox))]),e("td",[t._v(t._s(a.savour[0].value))]),e("td",[t._v(t._s(a.discharge))]),e("td",[t._v(" "+t._s(a.pureebrix)+" ")]),e("td",[t._v(t._s(a.cylinder))]),e("td",[t._v(t._s(a.Finished))]),e("td",[t._v(t._s(a.Productbriz))]),e("td",[t._v(t._s(a.Colleagues))]),e("td",[t._v(t._s(a.Remark))]),e("td",[e("button",{attrs:{id:"button"},on:{click:function(e){return t.editRow(a._id)}}},[t._v("Edit")]),t._v(" Â  "),e("button",{attrs:{id:"button"},on:{click:function(e){return t.requestApiSoftDeleteDoc("SoftDeleteDoc",a._id)}}},[t._v(" Delete ")])])],2)})),0)]),e("li",{staticClass:"pagination_item"},[e("button",{attrs:{id:"button",disabled:t.isInFirstPage},on:{click:t.onClickFirstPage}},[t._v(" First ")])]),e("li",{staticClass:"pagination_item"},[e("button",{attrs:{id:"button",disabled:t.isInFirstPage},on:{click:t.onClickPreviousPage}},[t._v(" Previous ")])]),t._l(t.pages,(function(a){return e("li",{key:a,staticClass:"pagination_item"},[e("button",{class:{active:t.isPageActive(a)},attrs:{id:"button",disabled:a.isDisabled},on:{click:function(e){return t.onClickPage(a)}}},[t._v(" "+t._s(a)+" ")])])})),e("li",{staticClass:"pagination_item"},[e("button",{attrs:{id:"button",disabled:t.isInLastPage},on:{click:t.onClickNextPage}},[t._v(" Next ")])]),e("li",{staticClass:"pagination_item"},[e("button",{attrs:{id:"button",disabled:t.isInLastPage},on:{click:t.onClickLastPage}},[t._v(" Last ")])])],2),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.date,expression:"date"}],attrs:{type:"date"},domProps:{value:t.date},on:{change:t.updateDate,click:t.filterDate,input:function(e){e.target.composing||(t.date=e.target.value)}}}),e("p",[t._v("date: "+t._s(t.formatDate))])])])},n=[function(){var t=this,e=t._self._c;return e("tr",{staticClass:"title"},[e("th",{attrs:{scope:"col"}},[t._v("BoxID")]),e("th",{attrs:{scope:"col"}},[t._v("Sauce cooking time")]),e("th",{attrs:{scope:"col"}},[t._v("Capacity 4L bag")]),e("th",{attrs:{scope:"col"}},[t._v("Bean soaker tank number")]),e("th",{attrs:{scope:"col"}},[t._v("Sugar box number")]),e("th",{attrs:{scope:"col"}},[t._v("Savour")]),e("th",{attrs:{scope:"col"}},[t._v("Cylinder discharge temperature")]),e("th",{attrs:{scope:"col"}},[t._v("Puree brix")]),e("th",{attrs:{scope:"col"}},[t._v("Sugar cylinder temperature")]),e("th",{attrs:{scope:"col"}},[t._v("Finished product storage cylinder temperature")]),e("th",{attrs:{scope:"col"}},[t._v("Product brix")]),e("th",{attrs:{scope:"col"}},[t._v("Colleagues record")]),e("th",{attrs:{scope:"col"}},[t._v("Remark")]),e("th")])}],l=i(203),c={setup(){const t=(0,l.ref)(new Date);function e(e){t.value=new Date(e.target.value)}const a=(0,l.computed)((()=>{const e={day:"2-digit",month:"2-digit",year:"numeric"};return t.value.toLocaleDateString("en-GB",e).split("/").join("/")}));return{date:t,updateDate:e,formatDate:a}},data(){return{currentPage:1,maxVisibleButtons:5,perPage:10,data_table:[],currentPageCode:"production",data:[],filters:"",dataFilter:[],selectedSavour:"",selectedCapacity:"",selectedTime:"",selecteddate:"",dataTime:[]}},mounted(){this.requestApiGetDocs("GetDocs")},computed:{displayedItems(){let t=this.data_table.filter((t=>!0!==t.Ng_SysIsDeleted));console.log(t);const e=(this.currentPage-1)*this.perPage,a=e+this.perPage;return t.slice(e,a)},UpdatedTable(){return void 0!==this.dataFilter&&null!==this.dataFilter&&this.dataFilter.length>=1?(console.log(1),this.dataFilter):(console.log("test",this.displayedItems),this.displayedItems)},startPage(){return 1===this.currentPage?1:this.currentPage===this.pages?this.pages-this.maxVisibleButtons:this.currentPage-1},pages(){let t=this.data_table.filter((t=>!0!==t.Ng_SysIsDeleted));return Math.ceil(t.length/this.perPage)},isInFirstPage(){return 1===this.currentPage},isInLastPage(){return this.currentPage===this.pages}},methods:{requestApiGetDocs:function(t){var e={PageCode:this.currentPageCode,Size:1e3,Index:0,Offset:0};this.callApi(t,e).then((t=>{this.data_table=t?.data?.items}))},requestApiSoftDeleteDoc:function(t,e){var a={PageCode:this.currentPageCode,DocId:e};this.callApi(t,a).then((t=>{var e=t;console.log(e)})),this.requestApiGetDocs("GetDocs")},filterBySugarBox(){return""===this.filters?this.dataFilter=this.displayedItems:this.dataFilter=this.data_table.filter((t=>parseInt(t.Sugarbox)===parseInt(this.filters)))},filterSavour(){return""===this.selectedSavour?this.dataFilter=this.displayedItems:(this.dataFilter=this.displayedItems.filter((t=>t.savour[0].key===this.selectedSavour)),this.dataTime=this.dataFilter.filter((t=>t.Time=this.selectedTime)))},filterDate(){return""===this.formatDate?this.dataFilter=this.displayedItems:this.dataFilter=this.data_table.filter((t=>t.Time===this.formatDate))},editRow:function(t){location.href=`https://app-dev.digiqal.com/isvtrials/vtl8/form/${this.currentPageCode}/Edit/${t}?env=dev`},onPageChange(t){this.currentPage=t},onClickFirstPage(){this.onPageChange(1)},onClickPreviousPage(){this.onPageChange(this.currentPage-1)},onClickPage(t){this.onPageChange(t)},onClickNextPage(){this.onPageChange(this.currentPage+1)},onClickLastPage(){this.onPageChange(this.pages)},isPageActive(t){return this.currentPage===t},exportToCsv(){console.log(1),this.data=this.UpdatedTable.map((t=>({Time:new Date(t.Time).toLocaleDateString("en-US",{day:"2-digit",month:"2-digit",year:"numeric"}),Capacity:t.Capacity[0].value,soaker:t.soaker,Sugarbox:t.Sugarbox,savour:t.savour[0].value,discharge:t.discharge,pureebrix:t.pureebrix,cylinder:t.cylinder,Finished:t.Finished,Productbriz:t.Productbriz,Colleagues:t.Colleagues,Remark:t.Remark})));let t="data:text/csv;charset=utf-8,",e=this.data;if(!Array.isArray(e))return void console.error("Invalid data type for rows");let a=Object.keys(e[0]).join(",");t+=a+"\r\n",e.forEach((e=>{let a=Object.values(e).join(",");t+=a+"\r\n"}));let i=encodeURI(t),r=document.createElement("a");r.setAttribute("href",i),r.setAttribute("download","data.xlsx"),document.body.appendChild(r),r.click()}}},u=c;function d(t,e,a,i,r,s,o,n){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=a,c._compiled=!0),i&&(c.functional=!0),s&&(c._scopeId="data-v-"+s),o?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=l):r&&(l=n?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}var p=d(u,o,n,!1,null,null,null),v=p.exports,g={name:"App",components:{HelloWorld:v}},h=g,f=d(h,a,s,!1,null,null,null),_=f.exports,m=_}(),r=r["default"],r}()}));
//# sourceMappingURL=dm5_vue.umd.min.js.map